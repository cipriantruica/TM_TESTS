From: pmartz@dsd.es.com (Paul Martz) Subject: Re: 24-bit Static color: will clients like it?  In article , roeber@vxcrna.cern.ch (Frederick Roeber) writes: > i am writing an X server for some video-generation equipment.  The > hardware is  truecolor  in YUV space; in X terms it has a 24-bit > static color visual.  I would really like to have the server just > present this static visual, but i am not sure if this will be  > acceptable to  most  X clients.  The three problems I see are: >  >   1) The colormap, though huge, is static. >   2) All pixels would be 3 bytes wide. >   3) Because the hardware actually lives in YUV space, the >      translation RGB->YUV will introduce some rounding error.  We tried to ship an X server once that only supported a 24bit TrueColor visual. The main problems we encountered were:  \t1) Clients written with logic like the following:  \t    if (DefaultDepth() != 1) \t\t/* Assume default depth is 8bit */  \t   These clients need an 8bit deep visual in the root window \t   to run correctly.  \t2) Other clients did not even bother to do that much, and just \t   outright assumed they had a *dynamic* visual class, with a \t   dynamic colormap. XStoreColors does not work on cmaps \t   associated with Static or TrueColor visual classes, but \t   many clients do not bother to check, they just start \t   throwing XStoreColor calls at you.  Though both are clearly client error, this is the case with so many clients that it is easier for you to expose 8bit PseudoColor as a default root window visual, than it ever would be for all these client writers to change their clients to do the right thing. --     -paul\tpmartz@dsd.es.com \t\tEvans & Sutherland 